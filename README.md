# Boost.Asio TCP Client-Server Example

Этот проект демонстрирует пример TCP клиента и сервера, написанных на C++ с использованием библиотеки Boost.Asio. Клиент и сервер обмениваются сообщениями, вводимыми вручную через консоль.

<details>
  <summary>Условие задания</summary>
  Разработать на С++ простые консольные TCP клиент и сервер с использованием linux socket.
Код писать в стиле ООП.

Клиент получает из командной строки 3 параметра:
1) Текстовое имя клиента
2) Номер порта сервера
3) Период подключения к серверу в секундах

Клиент с указанным периодом подключается к серверу и отправляет текстовую строку в формате
[yyyy-mm-dd hh:mm:ss.ms] "имя_клиента"

Сервер получает из командной строки 1 параметр:
1) Номер порта

После запуска сервер слушает указанный порт, получает сообщения от клиентов и записывает их в файл log.txt
Каждое подключение клиента должно быть обработано в отдельном потоке.
Каждое сообщение должно быть записано в отдельную строку.
Сервер должен позволять работать с несколькими клиентами одновременно и обеспечивать корректный доступ к файлу log.txt

Например, запускаем сервер
server 3000

Запускаем клиенты
client Name1 3000 1
client Name2 3000 2
client Name3 3000 3

Тогда в log.txt ожидаем увидеть приблизительно такую картину (будет зависеть от момента запуска клиентов)
```
[2018-09-19 13:50:01.000] Name1
[2018-09-19 13:50:02.000] Name1
[2018-09-19 13:50:02.010] Name2
[2018-09-19 13:50:03.000] Name1
[2018-09-19 13:50:03.010] Name3
[2018-09-19 13:50:04.000] Name1
[2018-09-19 13:50:04.010] Name2
[2018-09-19 13:50:05.000] Name1
[2018-09-19 13:50:06.000] Name1
[2018-09-19 13:50:06.010] Name2
[2018-09-19 13:50:06.020] Name3
```
и так далее.
</details>

## Требования

- C++11 или выше
- Boost.Asio библиотека
- CMake (для сборки проекта)

## Установка и Сборка
1. Склонируйте репозиторий:
```bash
git clone <URL_РЕПОЗИТОРИЯ>
cd <ИМЯ_ПАПКИ_РЕПОЗИТОРИЯ>
```
2. Создайте и перейдите в директорию сборки:
```bash
mkdir build
cd build
```
3. Установите Boost.Asio. В данном проекте библиотека Boost устанавливается — через менеджер пакетов Conan.
```bash
conan install ..
```
4. Скомпилируйте проект с помощью CMake:
```bash
cmake ..
cmake --build .
```
## Использование
### Запуск Сервера
1. Перейдите в папку bin:
```bash
cd build/bin/
```
2. Запустите сервер: 
```bash
./TCPServer 3000
```
### Запуск Клиента
1. Перейдите в папку bin:
```bash
cd build/bin/
```
2. Запустите необходимое количество клиентов: 
```bash
./TCPСlient Name1 3000 1
./TCPСlient Name2 3000 2
./TCPСlient Name3 3000 3
```
### Ввод Сообщений
После запуска сервер слушает указанный порт, получает сообщения от клиентов и записывает их в файл log.txt

## Описание Кода
### Клиент (tcp_client.cpp)
Создает TCP-сокет и подключается к серверу.
Запускает поток для чтения данных из сокета и вывода их на консоль.
Основной поток программы отвечает за ввод данных с консоли и отправку их на сервер.
### Сервер (tcp_server.cpp)
Создает TCP-акцептор, который принимает подключения от клиентов.
Для каждого нового подключения создается tcp_connection.
В каждом tcp_connection запускается поток для чтения данных из сокета и вывода их на консоль.
Основной поток программы отвечает за ввод данных с консоли и отправку их клиенту.
